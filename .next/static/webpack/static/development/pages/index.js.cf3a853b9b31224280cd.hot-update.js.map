{"version":3,"file":"static/webpack/static/development/pages/index.js.cf3a853b9b31224280cd.hot-update.js","sources":["webpack:///./components/GuessRow.tsx"],"sourcesContent":["\nimport React, { useContext, useState, useEffect } from 'react'\nimport cx from 'classnames'\n\nimport {GameContext} from '../context/GameContext'\nimport Guess from '../types/Guess'\n\nexport default function GuessRow ({guess, guessNumber, currentRound}:{guess:Guess, currentRound:number, guessNumber: (value:string[])=>void}){\n  const { digits, giveHint, hintsGiven} = useContext(GameContext)\n  const {round, result, value, passed} = guess\n  const [inputValue, setInputValue]=useState<string[]>(value)\n  const [hintGiven, setHintGiven]=useState(false)\n  const inputRef = React.createRef<HTMLInputElement>()\n\n    const handleUserKeyPress = (event:KeyboardEvent) => {\n      const { keyCode } = event\n      if (keyCode === 13 && !passed && inputValue.length === digits) {\n        guessNumber(inputValue)\n      }\n    }\n\n    useEffect(() => {\n      window.addEventListener(\"keydown\", handleUserKeyPress);\n\n      return () => {\n        window.removeEventListener(\"keydown\", handleUserKeyPress);\n      };\n    }, [handleUserKeyPress])\n\n    const handleChange = (value: string)=>{\n      value = value.replace(/\\D/g, '')\n      setInputValue(Array.from(value))\n    }\n\n    const handleClick =()=>{\n      if(inputValue.length !== digits) return false\n      guessNumber(inputValue)\n    }\n\n    const onHintClick = ()=>{\n      setHintGiven(true)\n      giveHint()\n    }\n\n    const onFocus= ()=>{\n      if(inputValue.length ===0 && hintGiven){setInputValue([...hintsGiven])}\n    }\n\n    const placeholder = Array.from({length:digits},(item,i)=>hintsGiven[i]||'X').join(' ')\n\n    const id=`guessInput${round}`\n    const showHint = !passed && !hintGiven && currentRound>2 && hintsGiven.length < digits-1\n\n    return (\n      <div className={cx({'relative pb-36': showHint},'flex flex-col sm:flex-row mx-auto mb-6')}>\n          <div className='flex'>\n            <div className='w-56 mr-2 lg:mr-4'>\n              <input\n                autoFocus\n                autoComplete='off'\n                ref={inputRef}\n                className='nes-input focus:outline-none text-center custom-padding'\n                disabled={passed}\n                type='tel'\n                placeholder={placeholder}\n                id={id}\n                value={inputValue.join(' ')}\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) => handleChange(event.target.value)}\n                maxLength={digits*2-1}\n                onFocus={onFocus}\n              />\n            </div>\n            {!passed &&\n                <img src='press.png' className='w-auto h-10 md:h-12' style={{imageRendering: 'pixelated'}} onClick={handleClick}></img>}\n            {showHint &&\n                  <div className=\"nes-balloon hint from-right text-xs bottom-0 right-0 flex\">\n                    <p>Do you need a hint?</p>\n                    <img src='hint.png' className=\" w-auto h-8 md:h-10  md:ml-2 self-center animateOpacity\" style={{imageRendering: 'pixelated'}} onClick={onHintClick}></img>\n                </div>}\n          </div>\n          {passed &&\n            <div className='text-left flex flex-col sm:flex-row mt-2 lg:mt-0'>\n              {result.missed && <div className='self-center nes-badge wide custom-font-size'><span className=\"is-error\">Ups! you missed it!</span></div>}\n              {result.plus && <div className='self-center nes-badge plus custom-font-size'><span className=\"is-success\">{`${result.plus} cuk!`}</span></div>}\n              {result.minus && <div className='self-center nes-badge wide custom-font-size'><span className=\"is-warning\">{`${result.minus} position wrong!`}</span></div>}\n            </div>}\n      </div>)\n}\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AACA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;A","sourceRoot":""}