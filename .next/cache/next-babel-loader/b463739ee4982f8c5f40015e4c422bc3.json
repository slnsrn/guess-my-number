{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/slnsrn/Documents/Projects/MyGames/GuessNumber/guess-my-number/context/GameContext.tsx\";\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\n\nvar createNumberArray = function createNumberArray(digits) {\n  var numberArray = [];\n\n  for (var i = 0; i < digits; i++) {\n    numberArray.push({\n      value: Math.floor(Math.random() * 10).toString(),\n      hidden: true\n    });\n  }\n\n  return numberArray;\n};\n\nvar initialState = {\n  player: 'single',\n  digits: 4,\n  rounds: 0,\n  gameStarted: false,\n  numberArray: null,\n  gameResult: null\n};\n\nfunction reducer(state, action) {\n  var _state$numberArray;\n\n  switch (action.type) {\n    case 'SET_PLAYER':\n      return _objectSpread({}, state, {\n        player: action.value\n      });\n\n    case 'SET_DIGITS':\n      return _objectSpread({}, state, {\n        digits: action.value\n      });\n\n    case 'SET_ROUNDS':\n      return _objectSpread({}, state, {\n        rounds: action.value\n      });\n\n    case 'START_GAME':\n      return _objectSpread({}, state, {\n        gameStarted: true,\n        numberArray: createNumberArray(state.digits)\n      });\n\n    case 'END_GAME':\n      return _objectSpread({}, state, {\n        numberArray: (_state$numberArray = state.numberArray) === null || _state$numberArray === void 0 ? void 0 : _state$numberArray.map(function (el) {\n          return _objectSpread({}, el, {\n            hidden: false\n          });\n        }),\n        gameResult: action.value ? 'won' : 'lost'\n      });\n\n    case 'GIVE_HINT':\n      var given = false;\n      var newArray = state.numberArray.map(function (number) {\n        if (!given && number.hidden) {\n          number.hidden = false;\n          given = true;\n        }\n\n        return number;\n      });\n      return _objectSpread({}, state, {\n        numberArray: newArray\n      });\n\n    case 'RESET':\n      return _objectSpread({}, initialState);\n\n    default:\n      return state;\n  }\n}\n\nexport var GameContext = React.createContext(null);\nGameContext.displayName = 'GameContext';\nexport default (function (_ref) {\n  var children = _ref.children;\n\n  var _React$useReducer = React.useReducer(reducer, initialState),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      state = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  var value = {\n    player: state.player,\n    rounds: state.rounds,\n    digits: state.digits,\n    gameStarted: state.gameStarted,\n    numberArray: state.numberArray,\n    gameResult: state.gameResult,\n    setPlayer: function setPlayer(value) {\n      return dispatch({\n        type: 'SET_PLAYER',\n        value: value\n      });\n    },\n    setDigits: function setDigits(value) {\n      return dispatch({\n        type: 'SET_DIGITS',\n        value: value\n      });\n    },\n    setRounds: function setRounds(value) {\n      return dispatch({\n        type: 'SET_ROUNDS',\n        value: value\n      });\n    },\n    resetGame: function resetGame() {\n      return dispatch({\n        type: 'RESET'\n      });\n    },\n    startGame: function startGame() {\n      return dispatch({\n        type: 'START_GAME'\n      });\n    },\n    giveHint: function giveHint() {\n      return dispatch({\n        type: 'GIVE_HINT'\n      });\n    },\n    endGame: function endGame(value) {\n      return dispatch({\n        type: 'END_GAME',\n        value: value\n      });\n    }\n  };\n  return __jsx(GameContext.Provider, {\n    value: value,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }\n  }, children);\n});","map":{"version":3,"sources":["/Users/slnsrn/Documents/Projects/MyGames/GuessNumber/guess-my-number/context/GameContext.tsx"],"names":["React","createNumberArray","digits","numberArray","i","push","value","Math","floor","random","toString","hidden","initialState","player","rounds","gameStarted","gameResult","reducer","state","action","type","map","el","given","newArray","number","GameContext","createContext","displayName","children","useReducer","dispatch","setPlayer","setDigits","setRounds","resetGame","startGame","giveHint","endGame"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Digit from '../types/Digit'\nimport Player from '../types/Player'\nimport Round from '../types/Round'\n\n\nconst createNumberArray = (digits: number)=>{\n  const numberArray:NumberArray=[]\n  for(let i=0; i<digits; i++){\n    numberArray.push({value:(Math.floor(Math.random()* 10)).toString(), hidden:true})\n  }\n  return numberArray\n}\ntype NumberArray = {value: string, hidden:boolean}[]\n\ninterface State {\n  player: Player\n  digits: Digit\n  rounds: Round,\n  gameStarted: boolean\n  numberArray: NumberArray|null,\n  hintsGiven: number[],\n  gameResult:'won'|'lost'|null\n}\n\nconst initialState:State = {\n  player: 'single',\n  digits: 4,\n  rounds: 0,\n  gameStarted:false,\n  numberArray: null,\n  gameResult: null,\n}\n\ntype Action = {type: 'SET_PLAYER', value: Player}\n            | {type: 'SET_DIGITS', value: Digit}\n            | {type: 'SET_ROUNDS', value: Round}\n            | {type: 'END_GAME', value:boolean}\n            | {type: 'START_GAME'}\n            | {type: 'GIVE_HINT'}\n            | {type: 'RESET' }\n\nfunction reducer(state:State, action:Action):State {\n  switch (action.type) {\n    case 'SET_PLAYER':\n      return {...state, player: action.value}\n    case 'SET_DIGITS':\n      return {...state, digits: action.value}\n    case 'SET_ROUNDS':\n      return {...state, rounds: action.value}\n    case 'START_GAME':\n        return {...state,\n          gameStarted: true,\n          numberArray: createNumberArray(state.digits)\n        }\n    case 'END_GAME':\n        return {...state,\n          numberArray: state.numberArray?.map(el=>{return {...el, hidden:false}})!,\n          gameResult: action.value ? 'won':'lost'\n        }\n    case 'GIVE_HINT':\n        let given=false\n        const newArray = state.numberArray!.map(number=>{\n          if(!given && number.hidden){\n            number.hidden=false\n            given=true\n          }\n          return number\n        })\n        return {...state,\n          numberArray: newArray,\n        }\n    case 'RESET':\n      return {...initialState}\n    default:\n      return state\n  }\n}\n\ntype ContextValue = State & {\n  setPlayer(value: string): void\n  setDigits(value: number): void\n  setRounds(value: number|string): void\n  endGame(value:boolean): void\n  resetGame(): void\n  startGame(): void\n  giveHint(): void\n}\n\nexport const GameContext = React.createContext<ContextValue>(null!)\nGameContext.displayName = 'GameContext'\n\nexport default ({children}:{children:React.ReactNode}) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState)\n\n  const value:ContextValue = {\n    player: state.player,\n    rounds: state.rounds,\n    digits: state.digits,\n    gameStarted: state.gameStarted,\n    numberArray: state.numberArray,\n    gameResult: state.gameResult,\n    setPlayer: (value:Player) =>\n      dispatch({\n        type: 'SET_PLAYER',\n        value: value\n      }),\n    setDigits: (value:Digit) =>\n      dispatch({\n        type: 'SET_DIGITS',\n        value: value\n      }),\n    setRounds: (value:Round) =>\n      dispatch({\n        type: 'SET_ROUNDS',\n        value: value\n      }),\n    resetGame: () =>\n      dispatch({\n        type: 'RESET'\n      }),\n    startGame: () =>\n      dispatch({\n        type: 'START_GAME'\n      }),\n    giveHint: () =>\n      dispatch({\n        type: 'GIVE_HINT'\n      }),\n    endGame:(value:boolean) =>\n      dispatch({\n        type: 'END_GAME',\n        value: value\n      })\n  }\n\n  return (\n    <GameContext.Provider value={value}>\n      {children}\n    </GameContext.Provider>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}